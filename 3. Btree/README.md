# Как запускать

1. Загрузить и установить [Python](https://www.python.org/ftp/python/3.9.2/python-3.9.2-amd64.exe). Выбрать опцию по добавлению в системные переменные
2. Скачать этот репозиторий и перейти в корневую папку репозитория
3. Выполнить в командной строке _pip install -r requirements.txt_
4. Подготовить базу данных:         
    4.1. Скачать и установить [PostgreSQL](https://www.postgresql.org/download/). Настроить пароль для суперюзера _postgres_ во время установки и не забывать его            
    4.2. Создать любую базу данных (Можно через pgAdmin [(ИНСТРУКЦИЯ)](https://info-comp.ru/how-to-create-database-in-postgresql), psql и т. д.). По сути можно использовать дефолтную _postgres_ и ничего не создавать              
    4.3. Выполнить sql-скрипт _generate-schema.sql_ по созданию схемы базы данныx              
5. Загружаем данные:   
    5.1. В _db_config.py_ изменяем параметры подключения к базе данных.     
    5.2. Выполняем _upload_site.py_ (python upload_site.py). Данный скрипт берет все файлы из папки _sites_, номерует все сайты, тем самым создавая "базу данных" сайтов в таблице _sites_.
    5.3. Выполняем _tokens.py_ (python tokens.py). Данный скрипт берет все сайты из ранее заполненной таблицы сайтов, парсит все html-ки, нормализует все слова и заполняет таблицу _word_ словами, присваивая с какого сайта он вытащил это слово.
    5.4. Выполняем _main.py_ (python main.py). Данный скрипт попросит ввести запрос, после ввода он нормализует все слова в запросе и ищет все слова в таблице _word_ и выдавая необходимый сайт.     
6. Пояснения:     
    6.1. В таблице word был создан индекс _word_index_ по колонке _word_ (См. _generate-schema.sql_). По умолчанию PostgreSQL создает индекс типа Btree, т. е. бинарного дерева. Любой запрос на чтение в эту таблицу будет использовать этот индекс      